<!DOCTYPE html>
<html lang="pt_BR">
  <head>
    <meta charset="UTF-8" />
    <title>03 Diretivas e Hooks</title>
    <script src="./vue.js"></script>
  </head>
  <body>
    <div id="app">
      <p>{{mensagem}}</p>
      <p><small>{{github}}</small></pre>
    </div>
    <hr>

    <div id="app2">
        <button @click="contador++">Add - {{contador}}</button>
    </div>
<hr>
    <div id="app3">
        <button @click="contador++">Add - {{contador}}</button>
        <button @click="destruir">Destruir</button>
    </div>

    <script>
      const vm = new Vue({
        el: "#app",
        data: {
          mensagem: "Mensagem no DATA",
          github : {}
        },
        methods: {
          puxarGithub() {
            fetch("https://api.github.com/users/josemalcher")
              .then(r => r.json())
              .then(resposta => {
                this.github = resposta;
              }); 
          }
        },
        beforeCreate() {
          console.log("BeforeCreated: ", this.mensagem);
          console.log("ANTES da CRIAÇÃO");
        },
        created() {
          console.log("Created: ", this.mensagem);
          console.log("FOI CRIADO");
          this.puxarGithub();
          console.log("ELEMENTO: ", this.$el); // ELement Undefined
        },
        beforeMount() {
          console.log("BeforMounted: ", this.mensagem);
          console.log("ELEMENTO BeforMounted: ", this.$el); // ELemento criado mas não reativo
        },
        mounted() {
            console.log("Mounted: ", this.mensagem);
            console.log("ELEMENTO Mounted: ", this.$el); // ELemento criado e populado
        },
      });

      const vm2 = new Vue({
          el:"#app2",
          data:{
              contador: 0
          },
          beforeUpdate() {
              console.log("TESTE");
          },
          updated() {
              console.log("UPDATE OK");
          },
      });

      const vm3 = new Vue({
          el:"#app3",
          data:{
              contador: 0
          },
          methods: {
            destruir(){
                this.$destroy();
            }
          },
          beforeUpdate() {
              console.log("TESTE");
          },
          updated() {
              console.log("UPDATE OK");
          },
          beforeDestroy() {
              console.log("Vai DESTRUIR");
          },
          destroyed() {
              console.log("DESTRUIU")
          },
      });
    </script>

    <style></style>
  </body>
</html>
